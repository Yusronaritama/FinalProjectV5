<ion-content [fullscreen]="true">
  <div class="register-container">
    <img src="assets/icon/Icon.png" alt="GoRentall Logo" class="logo" />
    <div class="form-box register-box">
      <h2>Registration</h2>

      <ion-item>
        <ion-label position="stacked">Full Name</ion-label>
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-input type="text" placeholder="Full Name" [(ngModel)]="fullName"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Phone Number</ion-label>
        <ion-icon name="call-outline" slot="start"></ion-icon>
        <ion-input type="tel" placeholder="Phone Number" [(ngModel)]="phoneNumber"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Email Address</ion-label>
        <ion-icon name="mail-outline" slot="start"></ion-icon>
        <ion-input type="email" placeholder="Email Address" [(ngModel)]="email"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Current Location</ion-label>
        <ion-icon name="location-outline" slot="start"></ion-icon>
        <ion-input type="text" placeholder="Current Location" [(ngModel)]="currentLocation"></ion-input>
      </ion-item>

      <div class="date-button-container">
        <ion-label>Date of Birth</ion-label>
        <ion-button expand="block" color="tertiary" (click)="openCalendar()">
          <ion-icon name="calendar-outline" slot="start"></ion-icon>
          <ion-label>{{ birthDate ? (birthDate | date:'d MMMM yyyy') : 'Pilih Tanggal Lahir' }}</ion-label>
        </ion-button>
      </div>


      <ion-item class="ktp-photo-input-item">
        <ion-label position="stacked">KTP Photo</ion-label>
        <ion-icon name="camera-outline" slot="start"></ion-icon>
        <input type="file" #fileInput style="display: none;" accept="image/*" (change)="onKtpFileSelected($event)">
        <ion-button fill="outline" expand="block" (click)="fileInput.click()">
          {{ ktpPhotoBase64 ? 'Change Photo' : 'Upload KTP Photo' }}
        </ion-button>
        <div *ngIf="ktpPhotoBase64" class="ktp-preview-container">
          <img [src]="ktpPhotoBase64" alt="KTP Preview" class="ktp-preview-image">
          <ion-button fill="clear" color="danger" size="small" (click)="removeKtpPhoto()" class="remove-ktp-button">
            <ion-icon name="close-circle"></ion-icon>
          </ion-button>
        </div>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Password</ion-label>
        <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
        <ion-input type="password" placeholder="Password" [(ngModel)]="password"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="stacked">Confirm Password</ion-label>
        <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
        <ion-input type="password" placeholder="Confirm Password" [(ngModel)]="confirmPassword"></ion-input>
      </ion-item>

      <ion-button expand="block" color="success" class="register-button" (click)="doRegister()">Registration</ion-button>
      
      <ion-button expand="block" color="success" class="cancel-button" (click)="goToLogin()">Cancel</ion-button>
    </div>
  </div>

  <ion-modal [keepContentsMounted]="true" #dateModal>
    <ng-template>
      <ion-datetime
        presentation="date"
        [(ngModel)]="birthDate"
        (ionChange)="onDateSelect()">
      </ion-datetime>
    </ng-template>
  </ion-modal>

</ion-content>