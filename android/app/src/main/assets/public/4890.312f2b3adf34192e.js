"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4890],{4890:(x,u,c)=>{c.r(u),c.d(u,{ProfilePageModule:()=>b});var d=c(2881),s=c(4341),a=c(9420),g=c(9870),p=c(467),n=c(1360),h=c(1553),_=c(4796);function f(i,l){if(1&i){const t=n.RV6();n.j41(0,"div",37),n.bIt("click",function(){const o=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.selectAvatar(o))}),n.nrm(1,"ion-icon",38),n.k0s()}if(2&i){const t=l.$implicit,e=n.XpG(2);n.AVh("active",t===e.selectedAvatar),n.R7$(),n.Y8G("name",t)}}function P(i,l){if(1&i){const t=n.RV6();n.j41(0,"ion-datetime",39),n.mxI("ngModelChange",function(o){n.eBV(t);const r=n.XpG(2);return n.DH7(r.editData.tanggal_lahir,o)||(r.editData.tanggal_lahir=o),n.Njj(o)}),n.k0s()}if(2&i){const t=n.XpG(2);n.R50("ngModel",t.editData.tanggal_lahir),n.Y8G("showDefaultButtons",!0)}}function M(i,l){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"div",8)(2,"div",9),n.nrm(3,"ion-icon",10),n.k0s(),n.j41(4,"h2",11),n.EFF(5),n.k0s(),n.j41(6,"p",12),n.EFF(7),n.k0s()(),n.j41(8,"ion-list-header")(9,"ion-label",13),n.EFF(10,"Pilih Avatar Anda"),n.k0s()(),n.j41(11,"div",14),n.DNE(12,f,2,3,"div",15),n.k0s(),n.j41(13,"ion-accordion-group",16)(14,"ion-accordion",17)(15,"ion-item",18),n.nrm(16,"ion-icon",19),n.j41(17,"ion-label"),n.EFF(18,"Ubah Detail Profil"),n.k0s()(),n.j41(19,"div",20)(20,"form",21),n.bIt("ngSubmit",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.updateProfile())}),n.j41(21,"ion-item")(22,"ion-label",22),n.EFF(23,"Nomor Telepon"),n.k0s(),n.j41(24,"ion-input",23),n.mxI("ngModelChange",function(o){n.eBV(t);const r=n.XpG();return n.DH7(r.editData.nomor_telepon,o)||(r.editData.nomor_telepon=o),n.Njj(o)}),n.k0s()(),n.j41(25,"ion-item")(26,"ion-label",22),n.EFF(27,"Nomor Rekening"),n.k0s(),n.j41(28,"ion-input",24),n.mxI("ngModelChange",function(o){n.eBV(t);const r=n.XpG();return n.DH7(r.editData.nomor_rekening,o)||(r.editData.nomor_rekening=o),n.Njj(o)}),n.k0s()(),n.j41(29,"ion-item")(30,"ion-label",22),n.EFF(31,"Alamat"),n.k0s(),n.j41(32,"ion-textarea",25),n.mxI("ngModelChange",function(o){n.eBV(t);const r=n.XpG();return n.DH7(r.editData.alamat,o)||(r.editData.alamat=o),n.Njj(o)}),n.k0s()(),n.j41(33,"ion-item")(34,"ion-label",26),n.EFF(35,"Tanggal Lahir"),n.k0s(),n.j41(36,"div",27)(37,"span"),n.EFF(38),n.nI1(39,"date"),n.k0s(),n.j41(40,"ion-button",28),n.nrm(41,"ion-icon",29),n.k0s()()(),n.j41(42,"ion-button",30),n.EFF(43," Simpan Perubahan "),n.k0s()()()()(),n.j41(44,"ion-modal",31),n.DNE(45,P,1,2,"ng-template"),n.k0s(),n.j41(46,"ion-list")(47,"ion-item"),n.nrm(48,"ion-icon",32),n.j41(49,"ion-label")(50,"h3"),n.EFF(51,"Nomor Telepon"),n.k0s(),n.j41(52,"p"),n.EFF(53),n.k0s()()(),n.j41(54,"ion-item"),n.nrm(55,"ion-icon",33),n.j41(56,"ion-label")(57,"h3"),n.EFF(58,"Nomor Rekening"),n.k0s(),n.j41(59,"p"),n.EFF(60),n.k0s()()(),n.j41(61,"ion-item"),n.nrm(62,"ion-icon",34),n.j41(63,"ion-label")(64,"h3"),n.EFF(65,"Alamat"),n.k0s(),n.j41(66,"p"),n.EFF(67),n.k0s()()(),n.j41(68,"ion-item",35),n.nrm(69,"ion-icon",36),n.j41(70,"ion-label")(71,"h3"),n.EFF(72,"Tanggal Lahir"),n.k0s(),n.j41(73,"p"),n.EFF(74),n.nI1(75,"date"),n.k0s()()()()()}if(2&i){const t=n.XpG();n.R7$(3),n.Y8G("name",t.selectedAvatar),n.R7$(2),n.JRh(t.user.name),n.R7$(2),n.JRh(t.user.email),n.R7$(5),n.Y8G("ngForOf",t.avatarList),n.R7$(12),n.R50("ngModel",t.editData.nomor_telepon),n.R7$(4),n.R50("ngModel",t.editData.nomor_rekening),n.R7$(4),n.R50("ngModel",t.editData.alamat),n.Y8G("autoGrow",!0),n.R7$(6),n.JRh(n.i5U(39,14,t.editData.tanggal_lahir,"d MMMM yyyy")),n.R7$(6),n.Y8G("keepContentsMounted",!0),n.R7$(9),n.JRh(t.user.nomor_telepon),n.R7$(7),n.JRh(t.user.nomor_rekening),n.R7$(7),n.JRh(t.user.alamat),n.R7$(7),n.JRh(n.i5U(75,17,t.user.tanggal_lahir,"d MMMM yyyy"))}}const v=[{path:"",component:(()=>{var i;class l{constructor(e,o,r,m){this.router=e,this.authService=o,this.loadingCtrl=r,this.toastCtrl=m,this.user=null,this.selectedAvatar="person-circle-outline",this.editData={nomor_telepon:"",alamat:"",nomor_rekening:"",tanggal_lahir:(new Date).toISOString()},this.avatarList=["person-circle-outline","happy-outline","game-controller-outline","paw-outline","bug-outline","rocket-outline","hardware-chip-outline","color-palette-outline"]}ngOnInit(){this.user=this.authService.getUser(),this.user&&(this.editData.nomor_telepon=this.user.nomor_telepon,this.editData.alamat=this.user.alamat,this.editData.nomor_rekening=this.user.nomor_rekening,this.editData.tanggal_lahir=this.user.tanggal_lahir),this.avatarSubscription=this.authService.currentAvatar$.subscribe(e=>{this.selectedAvatar=e})}ionViewWillEnter(){this.user=this.authService.getUser()}ngOnDestroy(){this.avatarSubscription&&this.avatarSubscription.unsubscribe()}selectAvatar(e){this.authService.updateAvatar(e)}updateProfile(){var e=this;return(0,p.A)(function*(){const o=yield e.loadingCtrl.create({message:"Menyimpan..."});yield o.present(),e.authService.updateUserProfile(e.editData).subscribe({next:r=>{o.dismiss(),e.presentToast("Profil berhasil diperbarui","success"),e.user=e.authService.getUser()},error:r=>{o.dismiss(),e.presentToast("Gagal memperbarui profil. Coba lagi.","danger"),console.error(r)}})})()}presentToast(e,o){var r=this;return(0,p.A)(function*(){(yield r.toastCtrl.create({message:e,duration:2e3,color:o})).present()})()}logout(){this.authService.logout()}goToChangePassword(){this.router.navigateByUrl("/change-password")}goToSettings(){this.router.navigateByUrl("/settings")}}return(i=l).\u0275fac=function(e){return new(e||i)(n.rXU(h.Ix),n.rXU(_.u),n.rXU(a.Xi),n.rXU(a.K_))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-profile"]],standalone:!1,decls:11,vars:2,consts:[["color","primary"],["slot","start"],["defaultHref","/settings"],["slot","end"],["routerLink","/settings"],["name","settings-outline","slot","icon-only"],[3,"fullscreen"],[4,"ngIf"],[1,"profile-header"],[1,"avatar-container"],[1,"profile-avatar",3,"name"],[1,"user-name"],[1,"user-email"],["color","medium"],[1,"avatar-grid"],["class","avatar-option",3,"active","click",4,"ngFor","ngForOf"],[1,"edit-profile-accordion"],["value","edit-form"],["slot","header"],["name","create-outline","slot","start"],["slot","content",1,"ion-padding"],[3,"ngSubmit"],["position","floating"],["type","tel","name","nomor_telepon",3,"ngModelChange","ngModel"],["type","tel","name","nomor_rekening",3,"ngModelChange","ngModel"],["name","alamat",3,"ngModelChange","ngModel","autoGrow"],["position","stacked"],[1,"date-display-container"],["fill","clear","id","date-picker-button",1,"calendar-button"],["slot","icon-only","name","calendar-outline","color","primary"],["type","submit","expand","block",1,"save-button"],["trigger","date-picker-button",3,"keepContentsMounted"],["name","call-outline","slot","start","color","medium"],["name","card-outline","slot","start","color","medium"],["name","home-outline","slot","start","color","medium"],["lines","none"],["name","calendar-outline","slot","start","color","medium"],[1,"avatar-option",3,"click"],[3,"name"],["id","birthdate","presentation","date","doneText","Pilih","cancelText","Batal",3,"ngModelChange","ngModel","showDefaultButtons"]],template:function(e,o){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),n.nrm(3,"ion-back-button",2),n.k0s(),n.j41(4,"ion-title"),n.EFF(5,"Profil"),n.k0s(),n.j41(6,"ion-buttons",3)(7,"ion-button",4),n.nrm(8,"ion-icon",5),n.k0s()()()(),n.j41(9,"ion-content",6),n.DNE(10,M,76,20,"div",7),n.k0s()),2&e&&(n.R7$(9),n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngIf",o.user))},dependencies:[d.Sq,d.bT,s.qT,s.BC,s.cb,s.vS,s.cV,a.xk,a.YH,a.Jm,a.QW,a.W9,a.A9,a.eU,a.iq,a.$w,a.uz,a.he,a.nf,a.AF,a.nc,a.BC,a.ai,a.Sb,a.Je,a.Gw,a.el,a.N7,g.Wk,d.vh],styles:[".profile-header[_ngcontent-%COMP%]{padding:24px 16px;text-align:center;border-bottom:1px solid var(--ion-border-color);margin-bottom:16px}.profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{margin:0 auto 16px;width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--ion-color-light)}.profile-header[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{font-size:72px;color:var(--ion-color-primary)}.profile-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--ion-text-color)}.profile-header[_ngcontent-%COMP%]   .user-email[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-color-medium);margin:4px 0 0}.avatar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:16px;padding:0 16px 16px}.avatar-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;aspect-ratio:1/1;border-radius:50%;background:var(--ion-background-color);border:2px solid var(--ion-border-color);transition:all .2s ease-in-out;cursor:pointer}.avatar-option[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--ion-color-medium)}.avatar-option.active[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);transform:scale(1.1);box-shadow:0 4px 8px rgba(var(--ion-color-primary-rgb),.3)}.avatar-option.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.edit-profile-accordion[_ngcontent-%COMP%]{margin:16px;border-radius:12px;box-shadow:0 4px 12px #00000014;background:var(--ion-item-background)}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%]{--background: transparent}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   div[slot=content][_ngcontent-%COMP%]{background:transparent}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-text-color);--border-color: var(--ion-border-color)}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   ion-label[position=floating][_ngcontent-%COMP%]{color:var(--ion-color-medium)!important}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{margin-top:24px;height:44px;font-weight:700}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   .date-display-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding-top:8px}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   .date-display-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem}.edit-profile-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   .date-display-container[_ngcontent-%COMP%]   .calendar-button[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;margin-left:8px}ion-list[_ngcontent-%COMP%]{background:transparent}ion-list-header[_ngcontent-%COMP%]{font-weight:700;font-size:1rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium);margin-bottom:2px}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-text-color);font-weight:500}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:16px}ion-modal[_ngcontent-%COMP%]{--width: fit-content;--min-width: auto;--height: fit-content;--border-radius: 12px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .12)}"]}),l})()}];let C=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[g.iI.forChild(v),g.iI]}),l})(),b=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[d.MD,s.YN,a.bv,C]}),l})()}}]);