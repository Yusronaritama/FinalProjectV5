"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9572],{9572:(k,l,a)=>{a.r(l),a.d(l,{ActivityPageModule:()=>O});var s=a(2881),p=a(4341),i=a(9420),g=a(9870),t=a(1360),u=a(1553),_=a(9198);function m(n,c){1&n&&(t.j41(0,"div",8),t.nrm(1,"ion-spinner",9),t.k0s())}function v(n,c){1&n&&(t.j41(0,"div",8)(1,"p"),t.EFF(2,"Belum ada riwayat aktivitas."),t.k0s()())}function P(n,c){if(1&n&&(t.j41(0,"div",28)(1,"strong"),t.EFF(2,"Refunded Amount"),t.k0s(),t.j41(3,"strong"),t.EFF(4),t.nI1(5,"currency"),t.k0s()()),2&n){const e=t.XpG(2).$implicit;t.R7$(4),t.JRh(t.ii3(5,1,e.payment.deposit_dikembalikan,"Rp ","symbol","1.0-0"))}}function h(n,c){if(1&n&&(t.j41(0,"div",23)(1,"div",24)(2,"h4"),t.EFF(3,"Security Deposit"),t.k0s(),t.j41(4,"ion-chip",25),t.EFF(5),t.k0s()(),t.DNE(6,P,6,6,"div",26),t.j41(7,"div",27)(8,"span"),t.EFF(9,"Original Deposit"),t.k0s(),t.j41(10,"span"),t.EFF(11),t.nI1(12,"currency"),t.k0s()()()),2&n){const e=t.XpG().$implicit,o=t.XpG(2);t.R7$(4),t.Y8G("color",o.getStatusColor(e.payment.status_deposit)),t.R7$(),t.SpI(" ",e.payment.status_deposit," "),t.R7$(),t.Y8G("ngIf",e.payment.deposit_dikembalikan>0),t.R7$(5),t.JRh(t.ii3(12,4,null==e.vehicle?null:e.vehicle.security_deposit,"Rp ","symbol","1.0-0"))}}function f(n,c){if(1&n){const e=t.RV6();t.j41(0,"ion-card",12)(1,"ion-item",13)(2,"ion-label")(3,"h2"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"date"),t.nI1(8,"date"),t.k0s()(),t.j41(9,"ion-chip",14),t.EFF(10),t.k0s()(),t.j41(11,"ion-item",15)(12,"ion-thumbnail",3)(13,"img",16,0),t.bIt("error",function(){t.eBV(e);const r=t.sdS(14);return t.Njj(r.src="assets/icon/placeholder.png")}),t.k0s()(),t.j41(15,"ion-label")(16,"h3"),t.EFF(17),t.k0s(),t.j41(18,"p"),t.EFF(19),t.nI1(20,"currency"),t.k0s(),t.j41(21,"p",17),t.EFF(22),t.k0s()()(),t.nrm(23,"div",18),t.DNE(24,h,13,9,"div",19),t.j41(25,"ion-grid",20)(26,"ion-row")(27,"ion-col")(28,"ion-button",21),t.bIt("click",function(){const r=t.eBV(e).$implicit,d=t.XpG(2);return t.Njj(d.viewReceipt(r))}),t.EFF(29,"Receipt"),t.k0s()(),t.j41(30,"ion-col")(31,"ion-button",22),t.bIt("click",function(){const r=t.eBV(e).$implicit,d=t.XpG(2);return t.Njj(d.bookAgain(r))}),t.EFF(32,"Book Again"),t.k0s()()()()()}if(2&n){const e=c.$implicit,o=t.XpG(2);t.R7$(4),t.SpI("#GR",e.id,""),t.R7$(2),t.Lme(" ",t.i5U(7,11,e.waktu_sewa,"d MMM y, HH:mm")," - ",t.i5U(8,14,e.waktu_kembali,"d MMM y, HH:mm")," "),t.R7$(3),t.Y8G("color",o.getStatusColor(e.status_pemesanan)),t.R7$(),t.SpI(" ",e.status_pemesanan," "),t.R7$(3),t.Y8G("src","http://127.0.0.1:8000"+(null==e.vehicle?null:e.vehicle.foto_utama),t.B4B),t.R7$(4),t.Lme("",null==e.vehicle?null:e.vehicle.merk," ",null==e.vehicle?null:e.vehicle.nama,""),t.R7$(2),t.JRh(t.ii3(20,17,e.total_harga,"Rp ","symbol","1.0-0")),t.R7$(3),t.SpI(" ","delivered"===e.delivery_option?"Diantar ke lokasi Anda":"Ambil Sendiri"," "),t.R7$(2),t.Y8G("ngIf",e.payment)}}function M(n,c){if(1&n&&(t.j41(0,"ion-list",10),t.DNE(1,f,33,22,"ion-card",11),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.orderHistory)}}const C=[{path:"",component:(()=>{var n;class c{constructor(o,r){this.router=o,this.rentalService=r,this.orderHistory=[],this.isLoading=!0}ngOnInit(){this.loadOrderHistory()}loadOrderHistory(){this.isLoading=!0,this.rentalService.getHistory().subscribe({next:o=>{this.orderHistory=o.data,this.isLoading=!1},error:o=>{console.error("Gagal memuat riwayat:",o),this.isLoading=!1}})}getStatusColor(o){switch(o){case"ACTIVE":case"REFUNDED":return"success";case"PENDING":case"PROSES":return"warning";case"CANCEL":case"DI TAHAN":return"danger";default:return"medium"}}viewReceipt(o){this.router.navigate(!o.payment||"lunas"!==o.payment.status_pembayaran&&"paid"!==o.payment.status_pembayaran?["/waiting-confirmation"]:["/receipt"],{state:{rental:o}})}bookAgain(o){const r=o.vehicle.id;console.log("Pesan lagi mobil, mengarahkan ke car-detail dengan ID:",r),this.router.navigate(["/car-detail",r])}}return(n=c).\u0275fac=function(o){return new(o||n)(t.rXU(u.Ix),t.rXU(_.K))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-activity"]],standalone:!1,decls:10,vars:5,consts:[["carImg",""],[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/home"],[3,"fullscreen"],["class","ion-text-center ion-padding",4,"ngIf"],["lines","none",4,"ngIf"],[1,"ion-text-center","ion-padding"],["name","crescent"],["lines","none"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],["lines","none",1,"card-header"],["outline","true",1,"status-chip-main",3,"color"],["lines","none",1,"car-details"],[3,"error","src"],[1,"return-info"],[1,"divider"],["class","deposit-section",4,"ngIf"],[1,"action-buttons"],["expand","block","fill","outline",3,"click"],["expand","block",3,"click"],[1,"deposit-section"],[1,"deposit-header"],[1,"status-chip-deposit",3,"color"],["class","deposit-row refunded",4,"ngIf"],[1,"deposit-row"],[1,"deposit-row","refunded"]],template:function(o,r){1&o&&(t.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),t.nrm(3,"ion-back-button",4),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Aktivitas"),t.k0s()()(),t.j41(6,"ion-content",5),t.DNE(7,m,2,0,"div",6)(8,v,3,0,"div",6)(9,M,2,1,"ion-list",7),t.k0s()),2&o&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",r.isLoading),t.R7$(),t.Y8G("ngIf",!r.isLoading&&0===r.orderHistory.length),t.R7$(),t.Y8G("ngIf",!r.isLoading&&r.orderHistory.length>0))},dependencies:[s.Sq,s.bT,i.Jm,i.QW,i.b_,i.ZB,i.hU,i.W9,i.lO,i.eU,i.uz,i.he,i.nf,i.ln,i.w2,i.Zx,i.BC,i.ai,i.el,s.oe,s.vh],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color)}.order-card[_ngcontent-%COMP%]{margin:16px;border-radius:12px;box-shadow:0 4px 12px #00000014;background:var(--ion-item-background)}.order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-medium-rgb), .05)}.order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--ion-text-color)}.order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium-shade)}.order-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .status-chip-main[_ngcontent-%COMP%]{font-size:.7rem;height:22px}.order-card[_ngcontent-%COMP%]   .car-details[_ngcontent-%COMP%]{--background: transparent}.order-card[_ngcontent-%COMP%]   .car-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--ion-text-color)}.order-card[_ngcontent-%COMP%]   .car-details[_ngcontent-%COMP%]   .return-info[_ngcontent-%COMP%]{font-size:.75rem;white-space:normal;color:var(--ion-color-medium-shade)}.order-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background-color:var(--ion-border-color);margin:8px 16px}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]{padding:8px 16px}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600;color:var(--ion-text-color)}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-header[_ngcontent-%COMP%]   .status-chip-deposit[_ngcontent-%COMP%]{font-size:.7rem;height:22px;--padding-start: 8px;--padding-end: 8px}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem;margin-bottom:4px}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:var(--ion-color-medium-shade)}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:var(--ion-text-color)}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-row[_ngcontent-%COMP%]   .danger-text[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.order-card[_ngcontent-%COMP%]   .deposit-section[_ngcontent-%COMP%]   .deposit-row.refunded[_ngcontent-%COMP%]{color:var(--ion-color-success)}.order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{padding:0 8px 8px}.order-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px}"]}),c})()}];let y=(()=>{var n;class c{}return(n=c).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[g.iI.forChild(C),g.iI]}),c})(),O=(()=>{var n;class c{}return(n=c).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[s.MD,p.YN,i.bv,y]}),c})()}}]);