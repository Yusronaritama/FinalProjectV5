"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6852],{6852:(F,P,t)=>{t.r(P),t.d(P,{ChangePasswordPageModule:()=>k});var f=t(2881),a=t(4341),n=t(9420),p=t(9870),g=t(467),o=t(1360),C=t(1553),b=t(4796);const y=[{path:"",component:(()=>{var s;class d{constructor(r,e,i,l,c){this.fb=r,this.router=e,this.toastController=i,this.authService=l,this.loadingController=c,this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmNewPassword=!1,this.passwordForm=this.fb.group({currentPassword:["",[a.k0.required]],newPassword:["",[a.k0.required,a.k0.minLength(6)]],confirmNewPassword:["",[a.k0.required]]})}ngOnInit(){}presentToast(r){var e=this;return(0,g.A)(function*(i,l="dark"){(yield e.toastController.create({message:i,duration:3e3,position:"top",color:l})).present()}).apply(this,arguments)}toggleCurrentPasswordVisibility(){this.showCurrentPassword=!this.showCurrentPassword}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmNewPasswordVisibility(){this.showConfirmNewPassword=!this.showConfirmNewPassword}saveChanges(){var r=this;return(0,g.A)(function*(){if(r.passwordForm.invalid)return void r.presentToast("Mohon isi semua kolom dengan benar.","warning");const{newPassword:e,confirmNewPassword:i}=r.passwordForm.value;if(e!==i)return void r.presentToast("Password baru dan konfirmasi tidak cocok.","danger");const l=yield r.loadingController.create({message:"Menyimpan..."});var h;yield l.present(),r.authService.changePassword({current_password:r.passwordForm.value.currentPassword,new_password:e,new_password_confirmation:i}).subscribe({next:(h=(0,g.A)(function*(m){yield l.dismiss(),yield r.presentToast("Password berhasil diubah!","success"),r.router.navigateByUrl("/profile",{replaceUrl:!0})}),function(w){return h.apply(this,arguments)}),error:function(){var h=(0,g.A)(function*(m){var w;yield l.dismiss();const N=(null===(w=m.error)||void 0===w?void 0:w.message)||"Terjadi kesalahan.";r.presentToast(N,"danger")});return function(w){return h.apply(this,arguments)}}()})})()}}return(s=d).\u0275fac=function(r){return new(r||s)(o.rXU(a.ok),o.rXU(C.Ix),o.rXU(n.K_),o.rXU(b.u),o.rXU(n.Xi))},s.\u0275cmp=o.VBU({type:s,selectors:[["app-change-password"]],standalone:!1,decls:26,vars:8,consts:[["color","primary"],["slot","start"],["defaultHref","/settings"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","currentPassword",3,"type"],["slot","end",1,"password-toggle-icon",3,"click","name"],["formControlName","newPassword",3,"type"],["formControlName","confirmNewPassword",3,"type"],["expand","block","type","submit",1,"save-changes-button",3,"disabled"]],template:function(r,e){1&r&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),o.nrm(3,"ion-back-button",2),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Ubah Password"),o.k0s()()(),o.j41(6,"ion-content",3)(7,"form",4),o.bIt("ngSubmit",function(){return e.saveChanges()}),o.j41(8,"ion-list")(9,"ion-item")(10,"ion-label",5),o.EFF(11,"Password Saat Ini"),o.k0s(),o.nrm(12,"ion-input",6),o.j41(13,"ion-icon",7),o.bIt("click",function(){return e.toggleCurrentPasswordVisibility()}),o.k0s()(),o.j41(14,"ion-item")(15,"ion-label",5),o.EFF(16,"Password Baru"),o.k0s(),o.nrm(17,"ion-input",8),o.j41(18,"ion-icon",7),o.bIt("click",function(){return e.toggleNewPasswordVisibility()}),o.k0s()(),o.j41(19,"ion-item")(20,"ion-label",5),o.EFF(21,"Konfirmasi Password Baru"),o.k0s(),o.nrm(22,"ion-input",9),o.j41(23,"ion-icon",7),o.bIt("click",function(){return e.toggleConfirmNewPasswordVisibility()}),o.k0s()()(),o.j41(24,"ion-button",10),o.EFF(25," Simpan Perubahan "),o.k0s()()()),2&r&&(o.R7$(7),o.Y8G("formGroup",e.passwordForm),o.R7$(5),o.Y8G("type",e.showCurrentPassword?"text":"password"),o.R7$(),o.Y8G("name",e.showCurrentPassword?"eye-off-outline":"eye-outline"),o.R7$(4),o.Y8G("type",e.showNewPassword?"text":"password"),o.R7$(),o.Y8G("name",e.showNewPassword?"eye-off-outline":"eye-outline"),o.R7$(4),o.Y8G("type",e.showConfirmNewPassword?"text":"password"),o.R7$(),o.Y8G("name",e.showConfirmNewPassword?"eye-off-outline":"eye-outline"),o.R7$(),o.Y8G("disabled",e.passwordForm.invalid))},dependencies:[a.qT,a.BC,a.cb,n.Jm,n.QW,n.W9,n.eU,n.iq,n.$w,n.uz,n.he,n.nf,n.BC,n.ai,n.Gw,n.el,a.j4,a.JD],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-background-color)}ion-list[_ngcontent-%COMP%]{background:transparent;padding:0;margin:0 0 16px}ion-item[_ngcontent-%COMP%]{--background: var(--ion-item-background);--color: var(--ion-text-color);--border-color: var(--ion-border-color);--highlight-color-focused: var(--ion-color-primary);border-radius:8px;margin-bottom:16px;box-shadow:0 2px 8px #00000014}ion-label[position=floating][_ngcontent-%COMP%]{color:var(--ion-color-medium-shade)!important}.password-toggle-icon[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:1.2rem;cursor:pointer}.save-changes-button[_ngcontent-%COMP%]{margin-top:24px;height:48px;font-weight:700}"]}),d})()}];let v=(()=>{var s;class d{}return(s=d).\u0275fac=function(r){return new(r||s)},s.\u0275mod=o.$C({type:s}),s.\u0275inj=o.G2t({imports:[p.iI.forChild(y),p.iI]}),d})(),k=(()=>{var s;class d{}return(s=d).\u0275fac=function(r){return new(r||s)},s.\u0275mod=o.$C({type:s}),s.\u0275inj=o.G2t({imports:[f.MD,a.YN,n.bv,v,a.X1]}),d})()}}]);