"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(L,f,a)=>{a.r(f),a.d(f,{LoginPageModule:()=>b});var h=a(2881),d=a(4341),r=a(9420),m=a(9870),u=a(467),o=a(1360),k=a(4796),C=a(1553);const M=[{path:"",component:(()=>{var n;class s{constructor(e,t,l,i){this.authService=e,this.router=t,this.loadingController=l,this.alertController=i,this.email="",this.password=""}doLogin(){var e=this;return(0,u.A)(function*(){const t=yield e.loadingController.create({message:"Logging in..."});var i;yield t.present(),e.authService.login({email:e.email,password:e.password}).subscribe({next:(i=(0,u.A)(function*(g){yield t.dismiss(),console.log("Login sukses:",g),localStorage.setItem("auth_token",g.data.access_token),localStorage.setItem("user_data",JSON.stringify(g.data.user)),e.router.navigateByUrl("/home",{replaceUrl:!0})}),function(p){return i.apply(this,arguments)}),error:function(){var i=(0,u.A)(function*(g){yield t.dismiss(),console.error("Login gagal:",g),e.showAlert("Login Gagal",g.error.message||"Email atau password tidak valid. Silakan coba lagi.")});return function(p){return i.apply(this,arguments)}}()})})()}showAlert(e,t){var l=this;return(0,u.A)(function*(){yield(yield l.alertController.create({header:e,message:t,buttons:["OK"]})).present()})()}goToRegister(){this.router.navigateByUrl("/register",{replaceUrl:!0})}}return(n=s).\u0275fac=function(e){return new(e||n)(o.rXU(k.u),o.rXU(C.Ix),o.rXU(r.Xi),o.rXU(r.hG))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],standalone:!1,decls:25,vars:4,consts:[[1,"login-background",3,"fullscreen"],[1,"login-container"],["src","assets/icon/Icon.png","alt","GoRentall Logo",1,"logo"],[1,"form-box","login-box"],["position","stacked"],["name","mail-outline","slot","start"],["type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","lock-closed-outline","slot","start"],["type","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["slot","end",1,"forgot-password-link"],["routerLink","/forgot-password"],["expand","block","color","success",3,"click","disabled"],["expand","block","color","success","routerLink","/register"],["expand","block","color","success","routerLink","/home"]],template:function(e,t){1&e&&(o.j41(0,"ion-content",0)(1,"div",1),o.nrm(2,"img",2),o.j41(3,"div",3)(4,"h2"),o.EFF(5,"Login"),o.k0s(),o.j41(6,"ion-item")(7,"ion-label",4),o.EFF(8,"Email"),o.k0s(),o.nrm(9,"ion-icon",5),o.j41(10,"ion-input",6),o.mxI("ngModelChange",function(i){return o.DH7(t.email,i)||(t.email=i),i}),o.k0s()(),o.j41(11,"ion-item")(12,"ion-label",4),o.EFF(13,"Password"),o.k0s(),o.nrm(14,"ion-icon",7),o.j41(15,"ion-input",8),o.mxI("ngModelChange",function(i){return o.DH7(t.password,i)||(t.password=i),i}),o.k0s(),o.j41(16,"ion-note",9)(17,"ion-router-link",10),o.EFF(18,"Forgot password?"),o.k0s()()(),o.j41(19,"ion-button",11),o.bIt("click",function(){return t.doLogin()}),o.EFF(20,"Login"),o.k0s(),o.j41(21,"ion-button",12),o.EFF(22,"Registration"),o.k0s(),o.j41(23,"ion-button",13),o.EFF(24,"Kembali ke Beranda"),o.k0s()()()()),2&e&&(o.Y8G("fullscreen",!0),o.R7$(10),o.R50("ngModel",t.email),o.R7$(5),o.R50("ngModel",t.password),o.R7$(4),o.Y8G("disabled",!t.email||!t.password))},dependencies:[d.BC,d.YS,d.vS,r.Jm,r.W9,r.iq,r.$w,r.uz,r.he,r.JI,r.Gw,r.N7,m.Wk],styles:[".login-background[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #B8ECBC 0%, #014001 100%)}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #064420 0%, #B8ECBC 100%);display:flex;justify-content:center;align-items:center;height:100%}.login-container[_ngcontent-%COMP%]{background:#c3f4c3;margin:100px auto;padding:20px;border-radius:12px;width:90%;max-width:420px;text-align:center;box-shadow:0 8px 20px #0003}.form-box[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out,transform .3s ease-in-out}ion-item[_ngcontent-%COMP%]{--background: #ffffff;border-radius:8px;margin-bottom:14px}ion-input[_ngcontent-%COMP%]{--color: #2eaa63}ion-icon[_ngcontent-%COMP%]{color:#0faa50}ion-button[_ngcontent-%COMP%]{margin-top:8px}.logo[_ngcontent-%COMP%]{width:140px;margin-bottom:16px}.toggle-link[_ngcontent-%COMP%]{margin-top:12px;font-size:14px;color:#444}.login-error-message[_ngcontent-%COMP%]{background-color:#fcebeb;color:#c00;border:1px solid #cc0000;border-radius:5px;padding:10px;margin-bottom:20px;font-size:.9em;text-align:center;opacity:0;animation:_ngcontent-%COMP%_fadeIn .3s forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),s})()}];let P=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[m.iI.forChild(M),m.iI]}),s})(),b=(()=>{var n;class s{}return(n=s).\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[h.MD,d.YN,r.bv,P]}),s})()}}]);