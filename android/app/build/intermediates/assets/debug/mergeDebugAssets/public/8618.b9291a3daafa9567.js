"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{8618:(w,h,l)=>{l.r(h),l.d(h,{RegisterPageModule:()=>R});var f=l(2881),p=l(4341),s=l(9420),_=l(9870),m=l(467),e=l(1360),M=l(4796),P=l(1553);function k(r,d){if(1&r){const g=e.RV6();e.j41(0,"div",29),e.nrm(1,"img",30),e.j41(2,"ion-button",31),e.bIt("click",function(){e.eBV(g);const t=e.XpG();return e.Njj(t.removeSimPhoto())}),e.nrm(3,"ion-icon",32),e.k0s()()}if(2&r){const g=e.XpG();e.R7$(),e.Y8G("src",g.simFilePreview,e.B4B)}}const C=[{path:"",component:(()=>{var r;class d{constructor(o,t,i,a){this.authService=o,this.router=t,this.loadingController=i,this.alertController=a,this.name="",this.nomor_telepon="",this.email="",this.alamat="",this.nomor_rekening="",this.tanggal_lahir="",this.password="",this.confirmPassword="",this.simFile=null,this.simFilePreview=null}onFileSelected(o){const t=o.target.files[0];if(t){this.simFile=t;const i=new FileReader;i.onload=()=>{this.simFilePreview=i.result},i.readAsDataURL(t)}}removeSimPhoto(){this.simFile=null,this.simFilePreview=null;const o=document.querySelector("#fileInput");o&&(o.value="")}doRegister(){var o=this;return(0,m.A)(function*(){if(o.password!==o.confirmPassword)return void o.showAlert("Error","Password dan konfirmasi password tidak cocok.");const t=yield o.loadingController.create({message:"Mendaftarkan..."});yield t.present();const i=new FormData;var a;i.append("name",o.name),i.append("email",o.email),i.append("password",o.password),i.append("password_confirmation",o.confirmPassword),i.append("nomor_telepon",o.nomor_telepon),i.append("alamat",o.alamat),i.append("tanggal_lahir",o.tanggal_lahir),i.append("nomor_rekening",o.nomor_rekening),o.simFile&&i.append("path_sim",o.simFile),o.authService.register(i).subscribe({next:(a=(0,m.A)(function*(n){yield t.dismiss(),console.log("Registrasi sukses:",n),localStorage.setItem("auth_token",n.data.access_token),localStorage.setItem("user_data",JSON.stringify(n.data.user)),yield o.showAlert("Sukses","Registrasi berhasil! Anda akan diarahkan ke halaman utama."),o.router.navigateByUrl("/home",{replaceUrl:!0})}),function(c){return a.apply(this,arguments)}),error:function(){var a=(0,m.A)(function*(n){var c;yield t.dismiss(),console.error("Registrasi gagal:",n);let u="Terjadi kesalahan. Periksa kembali data Anda.";if(422===n.status&&n.error.errors){const j=Object.keys(n.error.errors)[0];u=n.error.errors[j][0]}else null!==(c=n.error)&&void 0!==c&&c.message&&(u=n.error.message);o.showAlert("Registrasi Gagal",u)});return function(c){return a.apply(this,arguments)}}()})})()}showAlert(o,t){var i=this;return(0,m.A)(function*(){yield(yield i.alertController.create({header:o,message:t,buttons:["OK"]})).present()})()}goToLogin(){this.router.navigateByUrl("/login",{replaceUrl:!0})}}return(r=d).\u0275fac=function(o){return new(o||r)(e.rXU(M.u),e.rXU(P.Ix),e.rXU(s.Xi),e.rXU(s.hG))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-register"]],standalone:!1,decls:60,vars:11,consts:[["fileInput",""],[3,"fullscreen"],[1,"register-container"],["src","assets/icon/Icon.png","alt","GoRentall Logo",1,"logo"],[1,"form-box","register-box"],["position","stacked"],["name","person-outline","slot","start"],["type","text","placeholder","Full Name",3,"ngModelChange","ngModel"],["name","call-outline","slot","start"],["type","tel","placeholder","Phone Number",3,"ngModelChange","ngModel"],["name","mail-outline","slot","start"],["type","email","placeholder","Email Address",3,"ngModelChange","ngModel"],["name","location-outline","slot","start"],["type","text","placeholder","Current Location",3,"ngModelChange","ngModel"],["name","card-outline","slot","start"],["type","text","placeholder","Nomor Rekening Bank Anda",3,"ngModelChange","ngModel"],["name","calendar-outline","slot","start"],["type","date",3,"ngModelChange","ngModel"],["lines","none",1,"ion-no-padding"],[1,"file-input-container"],["name","camera-outline","slot","start"],["type","file","id","fileInput","accept","image/*",2,"display","none",3,"change"],["fill","outline","expand","block",3,"click"],["class","preview-container",4,"ngIf"],["name","lock-closed-outline","slot","start"],["type","password","placeholder","Password",3,"ngModelChange","ngModel"],["type","password","placeholder","Confirm Password",3,"ngModelChange","ngModel"],["expand","block","color","success",1,"register-button",3,"click"],["expand","block","color","success",1,"cancel-button",3,"click"],[1,"preview-container"],["alt","SIM Preview",1,"preview-image",3,"src"],["fill","clear","color","danger","size","small",1,"remove-button",3,"click"],["name","close-circle"]],template:function(o,t){if(1&o){const i=e.RV6();e.j41(0,"ion-content",1)(1,"div",2),e.nrm(2,"img",3),e.j41(3,"div",4)(4,"h2"),e.EFF(5,"Registration"),e.k0s(),e.j41(6,"ion-item")(7,"ion-label",5),e.EFF(8,"Full Name"),e.k0s(),e.nrm(9,"ion-icon",6),e.j41(10,"ion-input",7),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.name,n)||(t.name=n),e.Njj(n)}),e.k0s()(),e.j41(11,"ion-item")(12,"ion-label",5),e.EFF(13,"Phone Number"),e.k0s(),e.nrm(14,"ion-icon",8),e.j41(15,"ion-input",9),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.nomor_telepon,n)||(t.nomor_telepon=n),e.Njj(n)}),e.k0s()(),e.j41(16,"ion-item")(17,"ion-label",5),e.EFF(18,"Email Address"),e.k0s(),e.nrm(19,"ion-icon",10),e.j41(20,"ion-input",11),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.email,n)||(t.email=n),e.Njj(n)}),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",5),e.EFF(23,"Current Location"),e.k0s(),e.nrm(24,"ion-icon",12),e.j41(25,"ion-input",13),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.alamat,n)||(t.alamat=n),e.Njj(n)}),e.k0s()(),e.j41(26,"ion-item")(27,"ion-label",5),e.EFF(28,"Nomor Rekening"),e.k0s(),e.nrm(29,"ion-icon",14),e.j41(30,"ion-input",15),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.nomor_rekening,n)||(t.nomor_rekening=n),e.Njj(n)}),e.k0s()(),e.j41(31,"ion-item")(32,"ion-label",5),e.EFF(33,"Date of Birth"),e.k0s(),e.nrm(34,"ion-icon",16),e.j41(35,"ion-input",17),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.tanggal_lahir,n)||(t.tanggal_lahir=n),e.Njj(n)}),e.k0s()(),e.j41(36,"ion-item",18)(37,"ion-label",5),e.EFF(38,"SIM Photo"),e.k0s()(),e.j41(39,"div",19),e.nrm(40,"ion-icon",20),e.j41(41,"input",21,0),e.bIt("change",function(n){return e.eBV(i),e.Njj(t.onFileSelected(n))}),e.k0s(),e.j41(43,"ion-button",22),e.bIt("click",function(){e.eBV(i);const n=e.sdS(42);return e.Njj(n.click())}),e.EFF(44),e.k0s()(),e.DNE(45,k,4,1,"div",23),e.j41(46,"ion-item")(47,"ion-label",5),e.EFF(48,"Password"),e.k0s(),e.nrm(49,"ion-icon",24),e.j41(50,"ion-input",25),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.password,n)||(t.password=n),e.Njj(n)}),e.k0s()(),e.j41(51,"ion-item")(52,"ion-label",5),e.EFF(53,"Confirm Password"),e.k0s(),e.nrm(54,"ion-icon",24),e.j41(55,"ion-input",26),e.mxI("ngModelChange",function(n){return e.eBV(i),e.DH7(t.confirmPassword,n)||(t.confirmPassword=n),e.Njj(n)}),e.k0s()(),e.j41(56,"ion-button",27),e.bIt("click",function(){return e.eBV(i),e.Njj(t.doRegister())}),e.EFF(57,"Registration"),e.k0s(),e.j41(58,"ion-button",28),e.bIt("click",function(){return e.eBV(i),e.Njj(t.goToLogin())}),e.EFF(59,"Cancel"),e.k0s()()()()}2&o&&(e.Y8G("fullscreen",!0),e.R7$(10),e.R50("ngModel",t.name),e.R7$(5),e.R50("ngModel",t.nomor_telepon),e.R7$(5),e.R50("ngModel",t.email),e.R7$(5),e.R50("ngModel",t.alamat),e.R7$(5),e.R50("ngModel",t.nomor_rekening),e.R7$(5),e.R50("ngModel",t.tanggal_lahir),e.R7$(9),e.SpI(" ",t.simFilePreview?"Ganti Foto SIM":"Unggah Foto SIM"," "),e.R7$(),e.Y8G("ngIf",t.simFilePreview),e.R7$(5),e.R50("ngModel",t.password),e.R7$(5),e.R50("ngModel",t.confirmPassword))},dependencies:[f.bT,p.BC,p.vS,s.Jm,s.W9,s.iq,s.$w,s.uz,s.he,s.Gw],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #064420 0%, #B8ECBC 100%) !important;display:flex;justify-content:center;align-items:center;height:100%;width:100%;overflow-y:auto;overflow-x:hidden}.date-button-container[_ngcontent-%COMP%]{padding:8px 16px}.date-button-container[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.8em;color:var(--ion-color-medium-shade);margin-bottom:4px;display:block}.date-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;--border-radius: 4px;text-transform:none}.date-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:400;font-size:1em;color:var(--ion-color-tertiary-contrast)}ion-item[_ngcontent-%COMP%]:has(+.date-button-container){--inner-border-width: 0}.register-container[_ngcontent-%COMP%]{background:#c3f4c3;margin:auto;padding:15px;border-radius:12px;width:90%;max-width:420px;text-align:center;box-shadow:0 8px 20px #0003;max-height:unset;display:flex;flex-direction:column;align-items:center}.logo[_ngcontent-%COMP%]{width:140px;margin-bottom:20px}h2[_ngcontent-%COMP%]{color:#064420;font-size:2em;margin-top:0;margin-bottom:25px;font-weight:700}ion-item[_ngcontent-%COMP%]{--background: #ffffff;border-radius:8px;margin-bottom:15px;box-shadow:0 2px 5px #0000001a;--inner-padding-end: 0;--padding-start: 10px;width:100%}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#555;font-size:.9em;font-weight:500;margin-bottom:5px}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0faa50;font-size:1.4em;margin-right:8px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color: #2eaa63;font-size:1em;--padding-start: 5px;--padding-top: 12px;--padding-bottom: 12px}.ktp-photo-input-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding-bottom:15px}.ktp-preview-container[_ngcontent-%COMP%]{width:100%;position:relative;margin-top:15px;border:1px solid #ddd;border-radius:8px;overflow:hidden}.ktp-preview-image[_ngcontent-%COMP%]{width:100%;height:auto;display:block;object-fit:cover;max-height:150px}.remove-ktp-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;--color: #eb445a;font-size:1.5em}ion-button[_ngcontent-%COMP%]{margin-top:8px}.toggle-link[_ngcontent-%COMP%]{margin-top:15px;font-size:.9em;color:#666}.toggle-link[_ngcontent-%COMP%]   ion-router-link[_ngcontent-%COMP%]{color:#064420;font-weight:700;text-decoration:none}.toggle-link[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{padding:8px 16px 0;font-size:.9em}"]}),d})()}];let b=(()=>{var r;class d{}return(r=d).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[_.iI.forChild(C),_.iI]}),d})(),R=(()=>{var r;class d{}return(r=d).\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[f.MD,p.YN,s.bv,b]}),d})()}}]);