"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[827],{827:(J,h,d)=>{d.r(h),d.d(h,{CarRandomListPageModule:()=>N});var g=d(2881),p=d(4341),a=d(9420),f=d(9870),P=d(467),e=d(1360),M=d(1553),R=d(9198);const y=["content"];function k(i,l){if(1&i){const n=e.RV6();e.j41(0,"div",31),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG();return e.Njj(s.selectCarType(o))}),e.j41(1,"div",32),e.nrm(2,"img",33),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()}if(2&i){const n=l.$implicit,t=e.XpG();e.AVh("active",n===t.selectedCarType),e.R7$(2),e.Y8G("src",n.imageUrl,e.B4B)("alt",n.name),e.R7$(2),e.JRh(n.name)}}function j(i,l){1&i&&(e.j41(0,"div",34),e.nrm(1,"ion-spinner",35),e.k0s())}function O(i,l){if(1&i&&(e.j41(0,"div",44)(1,"span"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()()),2&i){const n=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,1,n.status))}}function F(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-card",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG(3);return e.Njj(s.viewCarDetail(o.id))}),e.nrm(1,"img",39),e.DNE(2,O,4,3,"div",40),e.j41(3,"ion-card-header")(4,"ion-card-title"),e.EFF(5),e.k0s(),e.j41(6,"ion-card-subtitle"),e.EFF(7),e.nI1(8,"titlecase"),e.k0s()(),e.j41(9,"ion-card-content")(10,"div",41)(11,"span",42),e.EFF(12),e.nI1(13,"currency"),e.k0s(),e.j41(14,"ion-chip",43)(15,"ion-label"),e.EFF(16),e.nI1(17,"titlecase"),e.k0s()()()()()}if(2&i){const n=l.$implicit;e.Y8G("disabled","servis"===n.status),e.R7$(),e.Y8G("src","http://127.0.0.1:8000"+n.foto_utama,e.B4B)("alt",n.nama),e.R7$(),e.Y8G("ngIf","tersedia"!==n.status),e.R7$(3),e.JRh(n.nama),e.R7$(2),e.Lme("",n.merk," - ",e.bMT(8,10,n.transmisi),""),e.R7$(5),e.SpI("",e.ii3(13,12,n.harga_sewa_harian,"Rp ","symbol","1.0-0")," / hari"),e.R7$(2),e.Y8G("color","tersedia"===n.status?"success":"disewa"===n.status?"warning":"danger"),e.R7$(2),e.JRh(e.bMT(17,17,n.status))}}function x(i,l){if(1&i&&(e.j41(0,"div")(1,"ion-list-header")(2,"ion-label",1),e.EFF(3,"Hasil Pencarian"),e.k0s()(),e.j41(4,"ion-list"),e.DNE(5,F,18,19,"ion-card",37),e.k0s()()),2&i){const n=e.XpG(2);e.R7$(5),e.Y8G("ngForOf",n.priorityVehicles)}}function w(i,l){1&i&&(e.j41(0,"ion-list-header",1)(1,"ion-label"),e.EFF(2,"Mobil Lainnya"),e.k0s()())}function T(i,l){if(1&i&&(e.j41(0,"div",44)(1,"span"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()()),2&i){const n=e.XpG().$implicit;e.R7$(2),e.JRh(e.bMT(3,1,n.status))}}function L(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-card",38),e.bIt("click",function(){const o=e.eBV(n).$implicit,s=e.XpG(3);return e.Njj(s.viewCarDetail(o.id))}),e.nrm(1,"img",39),e.DNE(2,T,4,3,"div",40),e.j41(3,"ion-card-header")(4,"ion-card-title"),e.EFF(5),e.k0s(),e.j41(6,"ion-card-subtitle"),e.EFF(7),e.nI1(8,"titlecase"),e.k0s()(),e.j41(9,"ion-card-content")(10,"div",41)(11,"span",42),e.EFF(12),e.nI1(13,"currency"),e.k0s(),e.j41(14,"ion-chip",43)(15,"ion-label"),e.EFF(16),e.nI1(17,"titlecase"),e.k0s()()()()()}if(2&i){const n=l.$implicit;e.Y8G("disabled","servis"===n.status),e.R7$(),e.Y8G("src","http://127.0.0.1:8000"+n.foto_utama,e.B4B)("alt",n.nama),e.R7$(),e.Y8G("ngIf","tersedia"!==n.status),e.R7$(3),e.JRh(n.nama),e.R7$(2),e.Lme("",n.merk," - ",e.bMT(8,10,n.transmisi),""),e.R7$(5),e.SpI("",e.ii3(13,12,n.harga_sewa_harian,"Rp ","symbol","1.0-0")," / hari"),e.R7$(2),e.Y8G("color","tersedia"===n.status?"success":"disewa"===n.status?"warning":"danger"),e.R7$(2),e.JRh(e.bMT(17,17,n.status))}}function I(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,w,3,0,"ion-list-header",45),e.j41(2,"ion-list"),e.DNE(3,L,18,19,"ion-card",37),e.k0s()()),2&i){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.isFilterActive),e.R7$(2),e.Y8G("ngForOf",n.otherVehicles)}}function E(i,l){1&i&&(e.j41(0,"div",46),e.nrm(1,"ion-icon",47),e.j41(2,"p"),e.EFF(3,"Tidak ada mobil yang cocok dengan filter Anda."),e.k0s()())}function V(i,l){if(1&i&&(e.j41(0,"div"),e.DNE(1,x,6,1,"div",29)(2,I,4,2,"div",29)(3,E,4,0,"div",36),e.k0s()),2&i){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.priorityVehicles.length>0),e.R7$(),e.Y8G("ngIf",n.otherVehicles.length>0),e.R7$(),e.Y8G("ngIf",0===n.priorityVehicles.length&&0===n.otherVehicles.length)}}function $(i,l){if(1&i){const n=e.RV6();e.j41(0,"ion-fab",48)(1,"ion-fab-button",49),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.scrollToTop())}),e.nrm(2,"ion-icon",50),e.k0s()()}}const G=[{path:"",component:(()=>{var i;class l{constructor(t,o,s){this.router=t,this.vehicleService=o,this.loadingController=s,this.allVehicles=[],this.priorityVehicles=[],this.otherVehicles=[],this.isFilterActive=!1,this.isLoading=!0,this.showScrollButton=!1,this.searchParams=null,this.carTypes=[{id:"wuling",name:"WULING",imageUrl:"assets/logomobil/wuling.jpg"},{id:"bmw",name:"BMW",imageUrl:"assets/logomobil/bmw.jpg"},{id:"hino",name:"HINO",imageUrl:"assets/logomobil/hino.jpg"},{id:"honda",name:"HONDA",imageUrl:"assets/logomobil/honda.jpg"},{id:"hyundai",name:"HYUNDAI",imageUrl:"assets/logomobil/hyundai.jpg"},{id:"isuzu",name:"ISUZU",imageUrl:"assets/logomobil/isuzu.png"},{id:"mitsubishi",name:"MITSUBISHI",imageUrl:"assets/logomobil/Mitsubishi_.png"},{id:"suzuki",name:"SUZUKI",imageUrl:"assets/logomobil/suzuki.jpg"},{id:"toyota",name:"TOYOTA",imageUrl:"assets/logomobil/toyota.jpg"}],this.selectedCarType=this.carTypes[0],this.filterOptions={bahan_bakar:"semua",transmisi:"semua",harga:{lower:null,upper:1e6}},this.maxPrice=2e6;const r=this.router.getCurrentNavigation();null!=r&&r.extras.state&&(this.searchParams=r.extras.state)}ngOnInit(){this.loadVehicles()}loadVehicles(){var t=this;return(0,P.A)(function*(){t.isLoading=!0;const o=yield t.loadingController.create({message:"Mencari mobil..."});yield o.present(),t.vehicleService.getAllVehicles(t.searchParams).subscribe({next:s=>{if(t.allVehicles=t.shuffleArray(s.data),t.otherVehicles=[...t.allVehicles],t.priorityVehicles=[],t.isFilterActive=!1,t.allVehicles.length>0){const r=Math.max(...t.allVehicles.map(c=>c.harga_sewa_harian));t.maxPrice=r>0?r:2e6}t.isLoading=!1,o.dismiss()},error:s=>{console.error("Gagal mengambil data mobil:",s),t.isLoading=!1,o.dismiss()}})})()}applyFilters(){Number(this.filterOptions.harga.lower),Number(this.filterOptions.harga.upper),this.isFilterActive=!0;const s=r=>{var c,m,_,u;if(!r)return!1;const{bahan_bakar:b,transmisi:C,harga:{lower:Y,upper:U}}=this.filterOptions,{id:D,name:S}=this.selectedCarType,A="all"===D||(null===(c=r.merk)||void 0===c?void 0:c.trim().toLowerCase())===S.toLowerCase(),H="semua"===b||(null===(m=r.bahan_bakar)||void 0===m?void 0:m.toLowerCase())===b.toLowerCase(),X="semua"===C||(null===(_=r.transmisi)||void 0===_?void 0:_.toLowerCase())===C.toLowerCase(),v=null!==(u=r.harga_sewa_harian)&&void 0!==u?u:0;return A&&H&&X&&v>=Y&&v<=U};this.priorityVehicles=this.allVehicles.filter(r=>s(r)),this.otherVehicles=this.allVehicles.filter(r=>!s(r))}selectCarType(t){this.selectedCarType=t}shuffleArray(t){let s,o=t.length;const r=[...t];for(;0!==o;)s=Math.floor(Math.random()*o),o--,[r[o],r[s]]=[r[s],r[o]];return r}viewCarDetail(t){this.router.navigate(["/car-detail",t])}onContentScroll(t){this.showScrollButton=t.detail.scrollTop>400}scrollToTop(){this.content.scrollToTop(500)}}return(i=l).\u0275fac=function(t){return new(t||i)(e.rXU(M.Ix),e.rXU(R.K),e.rXU(a.Xi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-car-random-list"]],viewQuery:function(t,o){if(1&t&&e.GBs(y,5),2&t){let s;e.mGM(s=e.lsd())&&(o.content=s.first)}},standalone:!1,decls:64,vars:16,consts:[["content",""],["color","primary"],["slot","start"],["defaultHref","/home"],[3,"ionScroll","fullscreen","scrollEvents"],[1,"filter-accordion"],["value","main-filter"],["slot","header"],["name","options-outline","slot","start"],["slot","content",1,"ion-padding"],[1,"car-type-grid"],["class","car-type-item",3,"active","click",4,"ngFor","ngForOf"],[1,"filter-container"],[1,"filter-group"],[1,"select-item"],["interface","popover","placeholder","Pilih Tipe",3,"ngModelChange","ngModel"],["value","semua"],["value","bensin"],["value","diesel"],["value","hybrid"],["value","matic"],["value","manual"],[1,"price-input-item"],["position","floating"],["type","number","placeholder","Rp 0",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","placeholder","ngModel"],["expand","block",1,"apply-filter-button",3,"click"],["name","search-outline","slot","start"],["class","ion-text-center ion-padding",4,"ngIf"],[4,"ngIf"],["vertical","bottom","horizontal","center","slot","fixed",4,"ngIf"],[1,"car-type-item",3,"click"],[1,"icon-wrapper"],[3,"src","alt"],[1,"ion-text-center","ion-padding"],["name","crescent"],["class","ion-text-center ion-padding empty-state",4,"ngIf"],["class","car-card",3,"disabled","click",4,"ngFor","ngForOf"],[1,"car-card",3,"click","disabled"],[1,"car-image",3,"src","alt"],["class","status-overlay",4,"ngIf"],[1,"price-info"],[1,"price"],["outline","true",3,"color"],[1,"status-overlay"],["color","primary",4,"ngIf"],[1,"ion-text-center","ion-padding","empty-state"],["name","car-sport-outline"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","arrow-up-outline"]],template:function(t,o){if(1&t){const s=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Pilih Mobil"),e.k0s()()(),e.j41(6,"ion-content",4,0),e.bIt("ionScroll",function(c){return e.eBV(s),e.Njj(o.onContentScroll(c))}),e.j41(8,"ion-accordion-group",5)(9,"ion-accordion",6)(10,"ion-item",7),e.nrm(11,"ion-icon",8),e.j41(12,"ion-label"),e.EFF(13,"Tampilkan Filter"),e.k0s()(),e.j41(14,"div",9)(15,"div",10),e.DNE(16,k,5,5,"div",11),e.k0s(),e.j41(17,"div",12)(18,"div",13)(19,"ion-label"),e.EFF(20,"Bahan Bakar"),e.k0s(),e.j41(21,"ion-item",14)(22,"ion-select",15),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(o.filterOptions.bahan_bakar,c)||(o.filterOptions.bahan_bakar=c),e.Njj(c)}),e.j41(23,"ion-select-option",16),e.EFF(24,"Semua"),e.k0s(),e.j41(25,"ion-select-option",17),e.EFF(26,"Bensin"),e.k0s(),e.j41(27,"ion-select-option",18),e.EFF(28,"Diesel"),e.k0s(),e.j41(29,"ion-select-option",19),e.EFF(30,"Hybrid"),e.k0s()()()(),e.j41(31,"div",13)(32,"ion-label"),e.EFF(33,"Transmisi"),e.k0s(),e.j41(34,"ion-item",14)(35,"ion-select",15),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(o.filterOptions.transmisi,c)||(o.filterOptions.transmisi=c),e.Njj(c)}),e.j41(36,"ion-select-option",16),e.EFF(37,"Semua"),e.k0s(),e.j41(38,"ion-select-option",20),e.EFF(39,"matic"),e.k0s(),e.j41(40,"ion-select-option",21),e.EFF(41,"Manual"),e.k0s()()()(),e.j41(42,"div",13)(43,"ion-label"),e.EFF(44,"Rentang Harga"),e.k0s(),e.j41(45,"ion-grid")(46,"ion-row")(47,"ion-col")(48,"ion-item",22)(49,"ion-label",23),e.EFF(50,"Harga Min."),e.k0s(),e.j41(51,"ion-input",24),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(o.filterOptions.harga.lower,c)||(o.filterOptions.harga.lower=c),e.Njj(c)}),e.k0s()()(),e.j41(52,"ion-col")(53,"ion-item",22)(54,"ion-label",23),e.EFF(55,"Harga Maks."),e.k0s(),e.j41(56,"ion-input",25),e.nI1(57,"currency"),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(o.filterOptions.harga.upper,c)||(o.filterOptions.harga.upper=c),e.Njj(c)}),e.k0s()()()()()(),e.j41(58,"ion-button",26),e.bIt("click",function(){return e.eBV(s),e.Njj(o.applyFilters())}),e.nrm(59,"ion-icon",27),e.EFF(60," Cari Mobil "),e.k0s()()()()(),e.DNE(61,j,2,0,"div",28)(62,V,4,3,"div",29)(63,$,3,0,"ion-fab",30),e.k0s()}2&t&&(e.R7$(6),e.Y8G("fullscreen",!0)("scrollEvents",!0),e.R7$(10),e.Y8G("ngForOf",o.carTypes),e.R7$(6),e.R50("ngModel",o.filterOptions.bahan_bakar),e.R7$(13),e.R50("ngModel",o.filterOptions.transmisi),e.R7$(16),e.R50("ngModel",o.filterOptions.harga.lower),e.R7$(5),e.Y8G("placeholder",e.ii3(57,11,o.maxPrice,"Rp ","symbol","1.0-0")),e.R50("ngModel",o.filterOptions.harga.upper),e.R7$(5),e.Y8G("ngIf",o.isLoading),e.R7$(),e.Y8G("ngIf",!o.isLoading),e.R7$(),e.Y8G("ngIf",o.showScrollButton))},dependencies:[g.Sq,g.bT,p.BC,p.vS,a.xk,a.YH,a.Jm,a.QW,a.b_,a.I9,a.ME,a.HW,a.tN,a.ZB,a.hU,a.W9,a.Q8,a.YW,a.lO,a.eU,a.iq,a.$w,a.uz,a.he,a.nf,a.AF,a.ln,a.Nm,a.Ip,a.w2,a.BC,a.ai,a.su,a.Je,a.el,g.PV,g.oe],styles:[".filter-accordion[_ngcontent-%COMP%]{margin:16px;border-radius:12px;box-shadow:0 4px 12px #00000014}.filter-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%]{--inner-border-width: 0}.filter-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%]{--background: var(--ion-item-background);--color: var(--ion-text-color)}.filter-accordion[_ngcontent-%COMP%]   ion-accordion[_ngcontent-%COMP%]   div[slot=content][_ngcontent-%COMP%]{background:var(--ion-item-background)}.car-type-grid[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:nowrap;overflow-x:auto;padding:0 16px 16px;-ms-overflow-style:none;scrollbar-width:none}.car-type-grid[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.car-type-grid[_ngcontent-%COMP%]   .car-type-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:0 0 auto;width:80px;cursor:pointer}.car-type-grid[_ngcontent-%COMP%]   .car-type-item[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:8px;background-color:var(--ion-background-color);border:1px solid var(--ion-border-color);transition:all .2s ease-in-out}.car-type-grid[_ngcontent-%COMP%]   .car-type-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.car-type-grid[_ngcontent-%COMP%]   .car-type-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8em;color:var(--ion-text-color);font-weight:500}.car-type-grid[_ngcontent-%COMP%]   .car-type-item.active[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);transform:scale(1.1);box-shadow:0 4px 8px rgba(var(--ion-color-primary-rgb),.2)}.filter-container[_ngcontent-%COMP%]{padding:0 16px 16px;border-bottom:none}.filter-container[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{margin-top:16px}.filter-container[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:var(--ion-color-medium-shade);display:block;margin-bottom:8px}.filter-container[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .price-input-item[_ngcontent-%COMP%]{--background: var(--ion-background-color);--border-radius: 8px;--padding-start: 8px;--inner-padding-end: 8px;border:1px solid var(--ion-border-color)}.filter-container[_ngcontent-%COMP%]   .apply-filter-button[_ngcontent-%COMP%]{margin-top:24px;height:44px;font-weight:700}ion-list-header[_ngcontent-%COMP%]{font-weight:700;padding-left:16px;font-size:1.1rem}.car-card[_ngcontent-%COMP%]{margin:0 16px 16px;cursor:pointer;transition:transform .2s ease-in-out;background:var(--ion-item-background)}.car-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.car-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.price-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--ion-color-primary)}.empty-state[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:8px}ion-fab[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out,transform .3s ease-in-out}ion-card[disabled][_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.car-card[_ngcontent-%COMP%]{position:relative}.status-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:140px;background-color:#00000080;color:#fff;display:flex;justify-content:center;align-items:center;font-size:1.2rem;font-weight:700;text-transform:uppercase;border-top-left-radius:var(--ion-card-border-radius, 8px);border-top-right-radius:var(--ion-card-border-radius, 8px)}"]}),l})()}];let B=(()=>{var i;class l{}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[f.iI.forChild(G),f.iI]}),l})(),N=(()=>{var i;class l{}return(i=l).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.MD,p.YN,a.bv,B]}),l})()}}]);